{
  "version": "2.0.0",
  "tasks": [
    // MSVC
    {
      "label": "build:vs2022-debug",
      "type": "shell",
      "command": "cmake --build --preset build-vs2022-debug",
      "group": "build",
      "problemMatcher": "$msCompile"
    },
    {
      "label": "build:vs2022-release",
      "type": "shell",
      "command": "cmake --build --preset build-vs2022-release",
      "group": "build",
      "problemMatcher": "$msCompile"
    },
    {
      "label": "rebuild:vs2022-debug",
      "type": "shell",
      "command": "rm -rf ${workspaceFolder}/build/msvc2022-debug; cmake --preset config-msvc2022-debug; cmake --build --preset build-msvc2022-debug",
      "group": "build",
      "problemMatcher": "$msCompile"
    },
    {
      "label": "rebuild:vs2022-release",
      "type": "shell",
      "command": "rm -rf ${workspaceFolder}/build/msvc2022-release; cmake --preset config-msvc2022-release; cmake --build --preset build-msvc2022-release",
      "group": "build",
      "problemMatcher": "$msCompile"
    },
    // GCC
    {
      "label": "build:gcc-debug",
      "type": "shell",
      "command": "cmake --build --preset build-gcc-debug --clean-first",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "build:gcc-release",
      "type": "shell",
      "command": "cmake --build --preset build-gcc-release --clean-first",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "rebuild:gcc-debug",
      "type": "shell",
      "command": "rm -rf ${workspaceFolder}/build/gcc-debug && cmake --preset config-gcc-debug && cmake --build --preset build-gcc-debug",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "rebuild:gcc-release",
      "type": "shell",
      "command": "rm -rf ${workspaceFolder}/build/gcc-release && cmake --preset config-gcc-release && cmake --build --preset build-gcc-release",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "problemMatcher": []
    },
    // Clang
    {
      "label": "build:clang-debug",
      "type": "shell",
      "command": "cmake --build --preset build-clang-debug --clean-first",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "build:clang-release",
      "type": "shell",
      "command": "cmake --build --preset build-clang-release --clean-first",
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "rebuild:clang-debug",
      "type": "shell",
      "command": "rm -rf ${workspaceFolder}/build/clang-debug && cmake --preset config-clang-debug && cmake --build --preset build-clang-debug",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "rebuild:clang-release",
      "type": "shell",
      "command": "rm -rf ${workspaceFolder}/build/clang-release && cmake --preset config-clang-release && cmake --build --preset build-clang-release",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "group": "build",
      "problemMatcher": []
    },
    {
      "label": "run-sanitizer",
      "type": "shell",
      "command": "${command:cmake.launchTargetPath}",
      "options": {
        "env": {
          "ASAN_SYMBOLIZER_PATH": "/usr/bin/llvm-symbolizer-20",
          "ASAN_OPTIONS": "symbolize=1"
        }
      },
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "new",
        "focus": true
      }
    }
  ]
}